{"version":3,"file":"js/587.9296ff40.js","mappings":"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","sources":["webpack://vue-practice-app/./src/views/Request.vue","webpack://vue-practice-app/./src/views/Request.vue?7836"],"sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\n    <p><strong>Имя</strong>: {{request.fio}}</p>\n    <p><strong>Телефон</strong>: {{request.phone}}</p>\n    <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\"></app-status></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"done\">Завершен</option>\n        <option value=\"cancelled\">Отменен</option>\n        <option value=\"active\">Активен</option>\n        <option value=\"pending\">Выполняется</option>\n      </select>\n    </div>\n\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">Заявки с ID = {{ $route.params.id }} нет</h3>\n\n</template>\n\n<script>\nimport {ref, onMounted, computed} from \"vue\";\nimport {useStore} from \"vuex\";\nimport {useRoute, useRouter} from 'vue-router'\nimport AppPage from \"../components/ui/AppPage\";\nimport AppLoader from \"../components/ui/AppLoader\";\nimport AppStatus from \"../components/ui/AppStatus\";\nimport {currency} from \"../utils/currency\";\n\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const status = ref()\n    const loading = ref(true)\n    const request = ref({})\n\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('request/loadOne', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => {\n      return request.value.status !== status.value\n    })\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      router.push('/')\n    }\n\n    const update = async () => {\n      const data = {...request.value,status: status.value ,id: route.params.id}\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n\n    return {\n      loading,\n      request,\n      currency,\n      remove,\n      update,\n      status,\n      hasChanges\n    }\n  },\n  components: {AppPage, AppLoader, AppStatus}\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./Request.vue?vue&type=template&id=28624750\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/oleg_timosenko/Documents/Курсы/Vue 3 2021 Владилен Минин/myVue/014_1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","value","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","_toDisplayString","fio","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_createVNode","_component_app_status","type","status","_hoisted_7","id","$event","onClick","_createElementBlock","_ctx","params","setup","route","useRoute","router","useRouter","store","useStore","ref","loading","request","onMounted","dispatch","hasChanges","computed","remove","push","update","data","currency","components","AppPage","AppLoader","AppStatus","__exports__","render"],"sourceRoot":""}